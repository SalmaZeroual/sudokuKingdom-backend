# Sudoku Kingdom Backend

Backend API pour Sudoku Kingdom - Application de jeu Sudoku avec √©l√©ments RPG.

## üöÄ Installation
```bash
# Installer les d√©pendances
npm install

# Configurer les variables d'environnement
cp .env.example .env
# Modifier .env avec vos param√®tres

# Initialiser la base de donn√©es
npm run init-db

# D√©marrer le serveur
npm run dev
```

## üì¶ Technologies

- **Node.js** - Runtime JavaScript
- **Express.js** - Framework web
- **PostgreSQL** - Base de donn√©es
- **Socket.io** - WebSocket pour duels temps r√©el
- **JWT** - Authentification
- **bcryptjs** - Hachage des mots de passe

## üîó Routes API

### Authentification
- `POST /api/auth/register` - Inscription
- `POST /api/auth/login` - Connexion
- `GET /api/auth/me` - Profil utilisateur (prot√©g√©)

### Jeu
- `POST /api/game/start` - D√©marrer partie
- `POST /api/game/:gameId/complete` - Terminer partie
- `GET /api/game/boosters` - Liste des boosters
- `POST /api/game/use-booster` - Utiliser booster
- `GET /api/game/history` - Historique parties

### Duel
- `POST /api/duel/challenge` - D√©fier un ami
- `POST /api/duel/:duelId/complete` - Terminer duel
- `POST /api/duel/:duelId/malus` - Envoyer malus

### Tournoi
- `GET /api/tournament/list` - Liste tournois
- `GET /api/tournament/:id` - D√©tails tournoi
- `POST /api/tournament/:id/join` - Rejoindre tournoi
- `GET /api/tournament/:id/leaderboard` - Classement
- `POST /api/tournament/:id/submit` - Soumettre score

### Social
- `GET /api/social/friends` - Liste amis
- `POST /api/social/friends/request` - Envoyer demande
- `POST /api/social/friends/accept/:id` - Accepter demande
- `GET /api/social/friends/pending` - Demandes en attente
- `GET /api/social/users/search` - Rechercher utilisateurs

## üîå WebSocket Events

### Duel
- `search_duel` - Rechercher adversaire
- `cancel_search` - Annuler recherche
- `duel_found` - Adversaire trouv√©
- `update_progress` - Mise √† jour progression
- `opponent_progress` - Progression adversaire
- `duel_completed` - Duel termin√©
- `send_malus` - Envoyer malus
- `receive_malus` - Recevoir malus
- `opponent_disconnected` - Adversaire d√©connect√©

## üìù Structure Base de Donn√©es

Voir `src/config/initDatabase.js` pour le sch√©ma complet.

## üõ†Ô∏è Scripts
```bash
npm start       # D√©marrer en production
npm run dev     # D√©marrer en d√©veloppement (nodemon)
npm run init-db # Initialiser la base de donn√©es
```